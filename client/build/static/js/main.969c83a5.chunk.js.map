{"version":3,"sources":["store/actions/index.js","store/sagas/conversations.js","store/sagas/messages.js","store/sagas/index.js","store/reducers/conversations.js","store/reducers/messages.js","store/reducers/index.js","components/conversation/conversation-search/ConversationSearch.js","components/controls/buttons/Button.js","components/conversation/no-conversations/NoConversations.js","components/conversation/conversation-item/ConversationItem.js","components/conversation/conversation-list/ConversationList.js","components/conversation/new-conversation/NewConversation.js","components/controls/icons/trash-icon/TrashIcon.js","components/chat-title/ChatTitle.js","components/message/Message.js","containers/message/MessageList.js","components/controls/buttons/FormButton.js","components/controls/icons/attachment-icon/AttachmentIcon.js","components/chat-form/ChatForm.js","containers/shell/ChatShell.js","App.js","index.js","images/profiles/user.png","images/profiles/daryl.png"],"names":["messagesLoaded","conversationId","messages","hasMoreMessages","lastMessageId","type","payload","watchGetConversationsAsync","delay","ms","Promise","res","setTimeout","conversations","getConversations","a","process","URL","fetch","method","then","response","json","data","newConversations","chat","map","result","id","chatRoom","imageUrl","require","imageAlt","room_name","title","createdAt","latestMessageText","push","console","log","catch","error","conversationsSaga","put","selectedConversation","takeEvery","conversationsRenderSaga","action","sconverstion","watchRenderConversationsAsync","takeLatest","messageDetails","messageText","isMyMessage","userMessage","conversation_id","headers","body","JSON","stringify","msg","email","parent_message_id","message","msge","messagesSaga","numberOfMessages","startIndex","length","endIndex","pageGroup","slice","newLastMessageId","reversepageGroup","reverse","watchGetMessagesAsync","sendmsg","sendmessagesSaga","watchSendMessagesAsync","rootSaga","all","initialState","conversationsReducer","state","newState","find","conversation","time","updatedState","existingState","unshift","selectedConversationIndex","findIndex","c","splice","textMessage","date","messagesReducer","currentConversationMapEntry","newConversationMapEntry","newMessageDetails","combineReducers","conversationState","messagesState","ConversationSearch","searchInput","React","useState","searchConversation","setsearchConversation","useEffect","con","filter","n","placeholder","value","onChange","e","target","Button","children","className","NoConversations","ConversationItem","isActive","onConversationItemSelected","joinRoom","disconnect","classNames","onClick","src","alt","ConversationList","conversationRender","setconversationRender","conversationItems","conversationIsActive","key","NewConversation","TrashIcon","enableBackground","version","viewBox","xmlSpace","xmlns","xmlnsXlink","fill","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeWidth","x1","x2","y1","y2","d","points","ChatTitle","onDeleteConversation","chatTitleContents","Message","messageClass","imageThumbnail","connect","getMessagesForConversation","dispatch","loadMessages","messagesRequested","messageItems","index","FormButton","disabled","AttachmentIcon","x","y","isMessageEmpty","adjustTextMessage","trim","ChatForm","onMessageSubmitted","onMessageUpdate","SendLiveMessage","sendMessage","updateConversationDateMessage","setTextMessage","disableButton","setdisableButton","senddisableButton","setsenddisableButton","formContents","handleFormSubmit","preventDefault","today","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","undefined","onSubmit","socket","io","conversationChanged","newMessageAdded","updateMessagesDetails","updateConversation","deletedAddedConversation","loadConversations","on","room","text","username","conversationContent","emit","roomname","App","sagaMiddleware","createSagaMiddleware","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","store","createStore","rootReducer","run","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.969c83a5.chunk.js","sourcesContent":["export const conversationChanged = conversationId => ({\n    type: 'SELECTED_CONVERSATION_CHANGED',\n    conversationId\n});\n\nexport const conversationsRequested = () => ({\n    type: 'CONVERSATIONS_REQUESTED'\n});\n\nexport const conversationsRenderRequested = (conversations,selectedConversation) => ({\n    type: 'CONVERSATIONS_RENDER_REQUESTED',\n    payload: {  selectedConversation }\n});\n\n\n\nexport const conversationDeleted = () => ({\n    type: 'DELETE_CONVERSATION'\n});\n\nexport const newMessageAdded = (textMessage, date, time) => ({\n    type: 'NEW_MESSAGE_ADDED',\n   payload:{ textMessage, date, time\n}\n});\n\nexport const messagesRequested = (conversationId, numberOfMessages, lastMessageId) => ({\n    type: 'MESSAGES_REQUESTED',\n    payload: { conversationId, numberOfMessages, lastMessageId}\n});\n\nexport const messagesLoaded = (conversationId, messages, hasMoreMessages, lastMessageId) => ({\n    type: 'MESSAGES_LOADED',\n    payload: { conversationId, messages, hasMoreMessages, lastMessageId }\n});\n\n\nexport const updateMessagesDetails = (conversationId, messages, hasMoreMessages, lastMessageId, isMyMessage, date,time) => ({\n    type: 'UPDATED_MESSAGE_DETAIL',\n    payload: { conversationId, messages, hasMoreMessages, lastMessageId, isMyMessage , date,time}\n});\n\nexport const sendMessage = (conversationId, messages, email) => ({\n    type: 'SEND_MESSAGE',\n    payload: { conversationId, messages, email }\n});\n\nexport const updateConversation = (conversationId, email) => ({\n    type: 'UPDATE_CONVERSATION',\n    payload: { conversationId, email }\n});\nexport const updateConversationDateMessage = (conversationId, message, date, time) => ({\n    type: 'UPDATE_CONVERSATION_DATE_MESSAGE',\n    payload: { conversationId, message, date ,time }\n});\n\nexport const deletedAddedConversation = (conversationId) => ({\n    type: 'DELETED_ADDED_CONVERSATION',\n    payload: { conversationId }\n});\n\n","import { put, takeEvery ,takeLatest} from 'redux-saga/effects';\n\nimport { messagesLoaded } from '../actions';\n\nconst delay = (ms) => new Promise(res => setTimeout(res, ms));\n\nvar conversations = [\n    // { \n    //     id: '1',\n    //     imageUrl: require('../../images/profiles/daryl.png'),\n    //     imageAlt: 'Daryl Duckmanton',\n    //     title: 'Daryl Duckmanton',\n    //     createdAt: 'Apr 16',\n    //     latestMessageText: 'This is a message',\n    //     messages: [\n    //         {\n    //             imageUrl: null,\n    //             imageAlt: null,\n    //             messageText: 'Ok then',\n    //             createdAt: 'Apr 16',\n    //             isMyMessage: true\n    //         },\n            \n    //     ]\n    // },\n    \n];\n\n\n\nconst getConversations = async () => {\n    const NODE_API=process.env.REACT_APP_NODE_API\n    const URL=`${NODE_API}/api/show_all_user_chat`\n    await fetch(URL, { \n        method: 'GET',\n    })\n    .then(response => response.json())\n        .then(data => {\n            let newConversations = data.chat.map(result => {\n                //   const user = result.user;\n                return {\n                    id: result.chatRoom.id,\n                    imageUrl: require('../../images/profiles/user.png'),\n                    imageAlt: `${result.chatRoom.room_name}`,\n                    title: `${result.chatRoom.room_name}`,\n                    createdAt: '1 year ago',\n                    latestMessageText: 'Thank you. I appreciate that.',\n                    messages: []\n                }\n            });\n            conversations.push(...newConversations)\n            console.log(conversations)\n        })\n        .catch((error) => {\n            console.error('Error:', error);\n        });\n}\n\n\nexport const conversationsSaga = function* () {\n    yield(getConversations())\n    yield delay(1000);\n    yield put(messagesLoaded(conversations[0].id, conversations[0].messages, false, null));\n    yield put({\n        type: 'CONVERSATIONS_LOADED',\n        payload: {\n            conversations,\n            selectedConversation: conversations[0]\n        }\n    });\n}\n\nexport function* watchGetConversationsAsync() {\n    yield takeEvery('CONVERSATIONS_REQUESTED', conversationsSaga);\n}\n\n\n\nexport const conversationsRenderSaga = function* (action) {\n    console.log(action)\n    conversations = action.payload.conversations;\n    const sconverstion = action.payload.selectedConversation;\n    \n    yield delay(1000);\n   yield put({\n        type: 'CONVERSATIONS_RENDER',\n        payload: {\n            conversations:conversations,\n            selectedConversation: sconverstion\n        }\n    });\n}\n\nexport const  watchRenderConversationsAsync =function* (){\n    yield takeLatest('CONVERSATIONS_RENDER_REQUESTED', conversationsRenderSaga);\n}\n","import { put, takeLatest } from 'redux-saga/effects';\n\nimport { messagesLoaded } from '../actions';\n\nconst messageDetails = {\n    '2': [\n        {\n            id: '1',\n            imageUrl: require('../../images/profiles/user.png'),\n            imageAlt: null,\n            messageText: 'Ok fair enough. Well good talking to you.',\n            createdAt: 'Oct 20',\n            isMyMessage: true\n        },\n    ],\n};\n\n\n\nconst userMessage = async (conversation_id) => {\n    const NODE_API=process.env.REACT_APP_NODE_API\n    const URL=`${NODE_API}/api/getmessage`\n    // const token = Cookies.get('token');\n    // const AuthStr='Bearer '+token;\n    // alert(process.env.REACT_APP_EMAIL)\n    await fetch(URL, { \n        method: 'POST',\n        headers: {\n                'Content-Type': 'application/json',\n                // 'authorization': AuthStr \n              },\n      body:JSON.stringify({'chat_room_id':conversation_id,'email':process.env.REACT_APP_EMAIL})\n    })\n    .then(response => response.json())\n        .then(async (data) => {\n            \n            const msge=   await data.msg.map(result => {\n                const isMyMessage = result.email === process.env.REACT_APP_EMAIL ? true : false\n               return {\n                    id: result.parent_message_id,\n                    imageUrl: require('../../images/profiles/user.png'),\n                    imageAlt: result.email,\n                    email: result.email,\n                    messageText: result.message,\n                    createdAt: '1 week ago',\n                    isMyMessage: isMyMessage\n                }\n\n\n                \n            });\n            messageDetails[conversation_id] = [...msge]\n            console.log(   messageDetails );\n        })\n        .catch((error) => {\n            console.error('Error:', error);\n        });\n}\n\n\nconst delay = (ms) => new Promise(res => setTimeout(res, ms));\n\nconst messagesSaga = function* (action) {\n    const { conversationId, numberOfMessages, lastMessageId } = action.payload;\n    yield(userMessage(conversationId))\n    const messages = messageDetails[conversationId];\n    // const startIndex = lastMessageId ? messages.findIndex(message => message.id === lastMessageId) + 1 : 0;\n    const startIndex = lastMessageId ? lastMessageId : messages.length;\n    console.log('startIndex',startIndex)\n    var endIndex = startIndex - numberOfMessages;\n  \n    if (endIndex < 0) {\n        endIndex = 0;\n        // It is not a number\n    }\n    console.log('endIndex',endIndex)\n    const pageGroup = messages.slice(endIndex, startIndex);\n    console.log('pageGroup',pageGroup)\n    const newLastMessageId = pageGroup.length > 0 ? pageGroup[0].id : null;\n    const reversepageGroup=pageGroup.reverse();\n    console.log('newLastMessageId',newLastMessageId)\n    // var hasMoreMessages = newLastMessageId && endIndex < (messages.length - 1);\n    var hasMoreMessages = newLastMessageId && endIndex !==0;\n    console.log('hasMoreMessages',hasMoreMessages)\n    yield delay(500);\n\n    yield put(messagesLoaded(conversationId,reversepageGroup,hasMoreMessages,newLastMessageId));\n    if (hasMoreMessages) {\n        yield delay(1000);\n        yield put({\n            type: 'MESSAGES_REQUESTED',\n            payload: {conversationId,numberOfMessages,lastMessageId: newLastMessageId}\n        })\n    }\n}\n\nexport const watchGetMessagesAsync = function*() {\n    yield takeLatest('MESSAGES_REQUESTED', messagesSaga);\n}\n\n\n\n\n\n\n\n\nconst sendmsg = (conversationId, messages, email) => {\n    \n    const NODE_API = process.env.REACT_APP_NODE_API\n    const URL=`${NODE_API}/api/tenantchatting`\n    // const token = Cookies.get('token');\n    // const AuthStr='Bearer '+token;\n    // alert(process.env.REACT_APP_EMAIL)\n    fetch(URL, { \n        method: 'POST',\n        headers: {\n                'Content-Type': 'application/json',\n                // 'authorization': AuthStr \n              },\n      body:JSON.stringify({'room_id':conversationId,'email':email,'message':messages})\n    })\n    .then(response => response.json())\n        .then(async (data) => {\n            // data.msg\n            console.log('Sucessfully Saved');\n        })\n        .catch((error) => { console.error('Error:', error);\n        });\n}\n\n\nconst sendmessagesSaga = function* (action) {\n    const { conversationId, messages, email } = action.payload;\n    // alert(conversationId)\n    yield delay(1000);\n    yield(sendmsg(conversationId, messages, email))\n    \n}\n\nexport const watchSendMessagesAsync = function*() {\n    yield takeLatest('SEND_MESSAGE', sendmessagesSaga);\n}","import { all } from 'redux-saga/effects';\n\nimport { watchGetConversationsAsync,watchRenderConversationsAsync } from './conversations';\nimport { watchGetMessagesAsync,watchSendMessagesAsync } from './messages';\n\nexport default function* rootSaga() {\n    yield all([watchGetConversationsAsync(),watchRenderConversationsAsync(),watchGetMessagesAsync(),watchSendMessagesAsync()]);\n}","const initialState = {\n    conversations: [],\n    selectedConversation: {}\n};\n\ninitialState.selectedConversation = initialState.conversations[1];\n\nconst conversationsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'CONVERSATIONS_LOADED': {\n           \n            const newState = {\n                conversations: [],\n                selectedConversation: {}\n            }\n            newState.conversations = action.payload.conversations ? action.payload.conversations : [];\n            newState.selectedConversation = action.payload.selectedConversation;\n\n            return newState;\n        }\n        case 'CONVERSATIONS_RENDER': {\n       \n            const newState = {};\n            newState.conversations = action.payload.conversations ;\n            newState.selectedConversation = action.payload.selectedConversation;\n            state = null;\n            console.log('-------------------S S State->', state);\n            state = newState;\n            console.log('-------------------S S newState->', newState);\n            return state;\n        }\n      case 'SELECTED_CONVERSATION_CHANGED': {\n        const newState = { ...state };\n        newState.selectedConversation = \n            newState.conversations.find(conversation => conversation.id === action.conversationId\n            );\n\n        return newState;\n        }\n\n            \n        case 'UPDATE_CONVERSATION_DATE_MESSAGE': {\n\n            const { conversationId, message ,time} = action.payload;\n            const newState = { ...state };\n            console.log('-----------After Message and Date Update',newState)\n            const updatedState = newState.conversations.find(conversation => conversation.id === conversationId);\n            updatedState.createdAt = time;\n            updatedState.latestMessageText = message;\n            console.log('-----------Before Message and Date Update',newState)\n            return newState;\n            }\n        case 'UPDATE_CONVERSATION': {\n            const existingState = { ...state };\n            const newState = existingState;\n            \n           \n          newState.conversations.unshift( {\n            id: action.payload.conversationId,\n            imageUrl: require('../../images/profiles/daryl.png'),\n            imageAlt: action.payload.email,\n            title: action.payload.email,\n            createdAt: 'August 3',\n            latestMessageText: 'New Message',\n            messages: []\n        },)\n            \n          \n        console.log('--------------------Updated Redux conversation',newState)\n        return newState;\n        }\n            \n        case 'DELETED_ADDED_CONVERSATION': {\n\n            const newState = { ...state };\n            const { conversationId } = action.payload;\n            let selectedConversationIndex = newState.conversations.findIndex(c => c.id === conversationId);\n            newState.conversations.splice(selectedConversationIndex, 1);\n            console.log('--------------------del added conversation',newState)\n        return newState;\n      }\n            \n      case 'DELETE_CONVERSATION': {\n        if (state.selectedConversation) {\n            const newState = { ...state };\n\n            let selectedConversationIndex = \n            newState.conversations.findIndex(c => c.id === newState.selectedConversation.id);\n            newState.conversations.splice(selectedConversationIndex, 1);\n\n            if (newState.conversations.length > 0) {\n                if (selectedConversationIndex > 0) {\n                    --selectedConversationIndex;\n                }\n        \n                newState.selectedConversation = newState.conversations[selectedConversationIndex];\n            } else {\n                newState.selectedConversation = null;\n            }\n\n            return newState;\n        }\n        \n        return state;\n      }\n      case 'NEW_MESSAGE_ADDED': {\n          if (state.selectedConversation) {\n            const newState = { ...state };\n            newState.selectedConversation = { ...newState.selectedConversation };\n           \n            newState.selectedConversation.messages.unshift(\n                {\n                    imageUrl: null,\n                    imageAlt: null,\n                    messageText: action.payload.textMessage,\n                    createdAt: action.payload.date+' '+action.payload.time,\n                    isMyMessage: true\n                },\n            )\n            console.log('-----------Redux triggered',newState)\n            return newState;\n          }\n\n          return state;\n      }\n      default:\n        return state;\n    }\n  }\n  \nexport default conversationsReducer;","const initialState = {\n    messageDetails: {}\n} \n\nconst messagesReducer = (state = initialState, action) => {\n    switch(action.type) { \n        case 'MESSAGES_LOADED': {\n            const { conversationId, messages, hasMoreMessages, lastMessageId } = action.payload;\n            const currentConversationMapEntry = state.messageDetails[conversationId];\n            const newConversationMapEntry = { hasMoreMessages, lastMessageId, messages: [] };\n\n            if (currentConversationMapEntry) {\n                newConversationMapEntry.messages = [...currentConversationMapEntry.messages];\n            }\n\n            newConversationMapEntry.messages = [...newConversationMapEntry.messages, ...messages];\n\n            const newMessageDetails = { ...state.messageDetails };\n            newMessageDetails[conversationId] = newConversationMapEntry;\n\n            return { messageDetails: newMessageDetails };\n        }\n        case 'UPDATED_MESSAGE_DETAIL': {\n\n            const { conversationId, messages, hasMoreMessages, lastMessageId, isMyMessage, date,time} = action.payload;\n            const currentConversationMapEntry = state.messageDetails[conversationId];\n            const newConversationMapEntry = { hasMoreMessages, lastMessageId, messages: [] };\n\n            if (currentConversationMapEntry) {\n                newConversationMapEntry.messages = [...currentConversationMapEntry.messages];\n            }\n            \n           \n            newConversationMapEntry.messages.unshift(\n                  {\n                      imageUrl: require('../../images/profiles/user.png'),\n                      imageAlt: null,\n                      messageText: messages,\n                      createdAt: date+' '+time,\n                      isMyMessage: isMyMessage\n                  },\n              )\n\n          \n              const newMessageDetails = { ...state.messageDetails };\n              newMessageDetails[conversationId] = newConversationMapEntry;\n  \n              return { messageDetails: newMessageDetails };\n        }\n        default: \n            return state;\n    }\n}\n\n\n\nexport default messagesReducer;","import { combineReducers } from 'redux';\n\nimport conversationState from './conversations';\nimport messagesState from './messages';\n\nexport default combineReducers({\n  conversationState,  messagesState\n});","import React from 'react';\n\nimport './ConversationSearch.scss';\n\nconst ConversationSearch = ({ conversations }) => {\n    let searchInput = null;\n    const [searchConversation, setsearchConversation] = React.useState('')\n    React.useEffect(() => {\n       const con= conversations.filter((n)=>  n.title===searchConversation );\n        console.log(con);\n       \n    },[searchConversation] )\n    if (conversations && conversations.length > 0) {\n        searchInput = <input type=\"text\" placeholder=\"Search\" value={searchConversation} onChange={(e)=>setsearchConversation(e.target.value)}/>;\n    }\n\n    return (\n        <div id=\"search-container\">\n            { searchInput }\n        </div>\n    );\n}\n\nexport default ConversationSearch;","import React from 'react';\n\nimport './Button.scss';\n\nconst Button = ({children}) => {\n    return (\n        <>\n            <button className=\"primary-button\">{ children }</button>\n        </>\n    );\n}\n\nexport default Button;","import React from 'react';\n\nimport Button from '../../controls/buttons/Button';\n\nimport './NoConversations.scss';\n\nconst NoConversations = () => {\n    return (\n        <div id=\"no-coversation-layout\">\n            <div id=\"no-conversation-content\">\n                <h2>No Conversations</h2>\n                <p>Currently you have no conversations.</p>\n                <p>To start a new conversation click the button below.</p>\n                <Button>New Conversation</Button>\n            </div>\n        </div>\n    );\n}\n\nexport default NoConversations;","import React from 'react';\nimport classNames from 'classnames';\n\nimport './ConversationItem.scss';\n\nconst ConversationItem = ({ conversation, isActive, onConversationItemSelected,joinRoom, disconnect }) => {\n    const className = classNames('conversation', {\n        'active': isActive\n    });\n\n    return (\n        <div className={className} onClick={() => { onConversationItemSelected(conversation.id); disconnect(conversation.id); joinRoom(conversation.id) } }>\n            <img src={conversation.imageUrl} alt={conversation.imageAlt} />\n            <div className=\"title-text\">{conversation.title}</div>\n            <div className=\"created-date\">{conversation.createdAt}</div>\n            <div className=\"conversation-message\">\n                {conversation.latestMessageText}\n            </div>\n        </div>\n    );\n}\n\nexport default ConversationItem;","import React from 'react';\n\nimport ConversationItem from '../conversation-item/ConversationItem';\nimport './ConversationList.scss';\n\nconst ConversationList = ({ conversations, selectedConversation, onConversationItemSelected,joinRoom, disconnect,conversationRender,setconversationRender }) => {\n    \n    React.useEffect(() => {\n        console.log('---------------conversation Changed', conversations)\n        if (conversationRender) {\n            conversations = conversations;\n            setconversationRender(false)\n        }\n    }, [conversationRender]);\n\n    \n\n    const conversationItems = conversations.map((conversation) => {\n        const conversationIsActive = selectedConversation && conversation.id === selectedConversation.id;\n\n        return <ConversationItem \n            key={ conversation.id }\n            onConversationItemSelected={onConversationItemSelected}\n            joinRoom={joinRoom}\n            disconnect={disconnect}\n            isActive={ conversationIsActive }\n            conversation={ conversation } />;\n    });\n\n    return (\n        <div id=\"conversation-list\">\n            {conversationItems}\n        </div>\n    );\n}\n\nexport default ConversationList;","import React from 'react';\n\nimport './NewConversation.scss';\n\nconst NewConversation = () => {\n    return (\n        <div id=\"new-message-container\">\n            <button>+</button>\n        </div>\n    );\n}\n\nexport default NewConversation;","import React from 'react';\n\nimport './TrashIcon.scss';\n\nconst TrashIcon = () => {\n    return (\n        <svg className=\"trash-logo\" enableBackground=\"new 0 0 500 500\" version=\"1.1\" viewBox=\"0 0 500 500\" xmlSpace=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\">\n            <g>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"101.642\" x2=\"120.633\" y1=\"134.309\" y2=\"430.972\"/>\n                <path d=\"   M120.633,430.972c0,10.5,8.519,19.031,18.992,19.031\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"139.625\" x2=\"360.389\" y1=\"450.003\" y2=\"450.003\"/>\n                <path d=\"   M360.389,450.003c10.474,0,18.979-8.531,18.979-19.031\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <polyline fill=\"none\" points=\"   379.367,430.972 398.386,134.309 101.642,134.309  \" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <path d=\"   M432.779,115.973c0,10.059-8.143,18.215-18.188,18.215\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"414.592\" x2=\"85.409\" y1=\"134.188\" y2=\"134.188\"/>\n                <path d=\"   M85.409,134.188c-10.018,0-18.188-8.156-18.188-18.215\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <path d=\"   M67.221,115.973c0-10.019,8.17-18.188,18.188-18.188\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"85.409\" x2=\"414.592\" y1=\"97.784\" y2=\"97.784\"/>\n                <path d=\"   M414.592,97.784c10.045,0,18.188,8.17,18.188,18.188\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"307.364\" x2=\"307.364\" y1=\"97.49\" y2=\"68.988\"/>\n                <path d=\"   M307.364,68.988c0-10.474-8.505-18.991-18.965-18.991\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"288.399\" x2=\"211.628\" y1=\"49.997\" y2=\"49.997\"/>\n                <path d=\"   M211.628,49.997c-10.487,0-18.979,8.518-18.979,18.991\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n                <polyline fill=\"none\" points=\"   192.649,68.988 192.649,97.49 307.364,97.49  \" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\"/>\n            </g>\n            <g>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"166.332\" x2=\"166.332\" y1=\"172.278\" y2=\"406.06\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"222.102\" x2=\"222.102\" y1=\"172.278\" y2=\"406.06\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"277.926\" x2=\"277.926\" y1=\"172.278\" y2=\"406.06\"/>\n                <line fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeMiterlimit=\"2.6131\" strokeWidth=\"10\" x1=\"333.669\" x2=\"333.669\" y1=\"172.278\" y2=\"406.06\"/>\n            </g>\n        </svg>\n    );\n}\n\nexport default TrashIcon;","import React from 'react';\n\nimport TrashIcon from '../controls/icons/trash-icon/TrashIcon';\n\nimport './ChatTitle.scss';\n\nconst ChatTitle = ({ selectedConversation, onDeleteConversation }) => {\n    let chatTitleContents = null;\n\n    if (selectedConversation) {\n        chatTitleContents = (\n            <>\n                <span>{ selectedConversation.title }</span>\n                <div onClick={ () => { onDeleteConversation(); } } title=\"Delete Conversation\">\n                    <TrashIcon />\n                </div>\n            </>\n        );\n    }\n\n    return (\n        <div id=\"chat-title\">\n            { chatTitleContents }\n        </div>\n    );\n}\n\nexport default ChatTitle;","import React from 'react';\nimport classNames from 'classnames';\n\nimport './Message.scss';\n\nconst Message = ({ isMyMessage, message }) => {\n    const messageClass = classNames('message-row', {\n        'you-message': isMyMessage,\n        'other-message': !isMyMessage\n    });\n    \n    const imageThumbnail = isMyMessage ? null : <img src={message.imageUrl} alt={message.imageAlt} />;\n\n    return (\n        <div className={messageClass}>\n            <div className=\"message-content\">\n                {imageThumbnail}\n                <div className=\"message-text\">\n                    {message.messageText}\n                </div>\n                <div className=\"message-time\">{message.createdAt}</div>\n            </div>\n        </div>\n    );\n}\n\nexport default Message;","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\n\nimport { messagesRequested } from '../../store/actions';\nimport Message from '../../components/message/Message';\nimport './MessageList.scss';\n\nconst MessageList = ({ selectedConversation,conversationId, getMessagesForConversation, loadMessages }) => {\n    const messageDetails = getMessagesForConversation(conversationId);\n    let messages = messageDetails ? messageDetails.messages: null;\n    let messageItems = null;\n\n    \n    useEffect(() => {\n        if (!messageDetails) {\n            loadMessages(conversationId, null);\n        }\n    }, [messageDetails, loadMessages, conversationId])\n\n    if (messages && messages.length > 0) {\n        messageItems = messages.map((message, index) => {\n            return <Message key={index} isMyMessage={message.isMyMessage} message={message} />;\n        });\n    }\n\n    return (\n        <div id=\"chat-message-list\">\n            {messageItems}\n        </div>\n    );\n}\n\nconst mapStateToProps = state => {\n    const getMessagesForConversation = conversationId => {\n        return state.messagesState.messageDetails[conversationId];\n      \n    }\n\n    return {\n        getMessagesForConversation:getMessagesForConversation,\n        // selectedConversation: state.conversationState.selectedConversation\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    const loadMessages = (conversationId, lastMessageId) => {\n        dispatch(messagesRequested(conversationId, 10, lastMessageId));\n    }\n\n    return { loadMessages };\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(MessageList);","import React from 'react';\n\nimport './Button.scss';\n\nconst FormButton = ({children, disabled}) => {\n    return (\n        <>\n            <button \n                type=\"submit\" \n                className=\"primary-button\"\n                disabled={disabled}>{ children }</button>\n        </>\n    );\n}\n\nexport default FormButton;","import React from 'react';\n\nimport './AttachmentIcon.scss';\n\nconst AttachmentIcon = () => {\n    return (\n        <svg version=\"1.1\" className=\"attachment-logo\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n            viewBox=\"0 0 512.001 512.001\" xmlSpace=\"preserve\">\n            <path d=\"M475.753,61.289c-48.329-48.329-126.967-48.329-175.296,0L15.535,346.212\n                c-20.713,20.713-20.713,54.413,0,75.127l50.085,50.085c20.713,20.713,54.413,20.713,75.127,0l221.305-221.305\n                c20.713-20.713,20.713-54.413,0-75.127s-54.413-20.713-75.127,0L168.981,292.935c-6.915,6.915-6.915,18.127,0,25.042\n                c6.915,6.915,18.127,6.915,25.042,0l117.943-117.943c6.903-6.903,18.137-6.906,25.042,0c6.906,6.906,6.903,18.14,0,25.042\n                L115.705,446.38c-6.903,6.903-18.137,6.906-25.042,0l-50.085-50.085c-6.906-6.906-6.903-18.14,0-25.042L325.499,86.332\n                c34.519-34.519,90.689-34.522,125.211,0s34.519,90.693,0,125.211l-181.56,181.56c-6.915,6.915-6.915,18.127,0,25.042\n                c6.915,6.915,18.127,6.915,25.042,0l181.56-181.56C524.083,188.256,524.083,109.62,475.753,61.289z\"/>\n            <g>\n                <path d=\"M299.446,187.512L181.503,305.456c-4.623,4.623-6.081,11.149-4.523,17.045\n                    c-2.924-0.772-5.705-2.231-7.997-4.523c-6.915-6.915-6.915-18.127,0-25.042l117.943-117.943c20.713-20.713,54.413-20.713,75.127,0\n                    c2.137,2.137,3.999,4.44,5.695,6.826C347.015,167.074,318.022,168.936,299.446,187.512z\"/>\n                <path d=\"M456.654,92.911c2.265,1.855,4.465,3.83,6.578,5.943c34.522,34.522,34.519,90.693,0,125.211\n                    l-181.56,181.56c-4.623,4.623-6.081,11.149-4.523,17.045c-2.924-0.772-5.705-2.231-7.997-4.523c-6.915-6.915-6.915-18.127,0-25.042\n                    l181.56-181.56C483.117,179.138,485.094,127.655,456.654,92.911z\"/>\n                <path d=\"M115.705,446.38l221.305-221.305c4.613-4.613,6.07-11.142,4.519-17.04\n                    c2.927,0.77,5.712,2.228,8.003,4.519c6.906,6.906,6.903,18.14,0,25.042L128.226,458.902c-6.903,6.903-18.137,6.906-25.042,0\n                    L90.663,446.38C97.568,453.286,108.802,453.283,115.705,446.38z\"/>\n                <path d=\"M312.978,73.811L28.057,358.732c-20.713,20.713-20.713,54.413,0,75.127l-12.521-12.521\n                    c-20.713-20.713-20.713-54.413,0-75.127L300.457,61.289c48.329-48.329,126.967-48.329,175.296,0\n                    c2.113,2.113,4.015,4.354,5.943,6.577C433.056,25.693,359.195,27.594,312.978,73.811z\"/>\n            </g>\n        </svg>\n    );\n}\n\nexport default AttachmentIcon;","import React, { useState, useEffect } from 'react';\n\nimport FormButton from '../controls/buttons/FormButton';\nimport AttachmentIcon from '../controls/icons/attachment-icon/AttachmentIcon';\n\nimport './ChatForm.scss';\n\nconst isMessageEmpty = (textMessage) => {\n    return adjustTextMessage(textMessage).length === 0;\n}\n\nconst adjustTextMessage = (textMessage) => {\n    return textMessage.trim();\n};\n\nconst ChatForm = ({ selectedConversation, onMessageSubmitted, onMessageUpdate, messageDetails, sendMessage,SendLiveMessage,updateConversationDateMessage }) => {\n    const [textMessage, setTextMessage] = useState('');\n    const [disableButton, setdisableButton] = useState(false);\n    const [senddisableButton, setsenddisableButton] = useState(true);\n    let formContents = null;\n    let handleFormSubmit = null;\n    \n    useEffect(() =>\n    {\n        if (senddisableButton)\n            setdisableButton(isMessageEmpty(textMessage))\n    },[textMessage, senddisableButton])\n    \n    if (selectedConversation) {\n        formContents = (\n            <>\n                <div title=\"Add Attachment\">\n                    <AttachmentIcon />\n                </div>\n                <input \n                    type=\"text\" \n                    placeholder=\"type a message\" \n                    value={textMessage}\n                    onChange={ (e) => { setTextMessage(e.target.value); } } />\n                <FormButton disabled={ disableButton }>Send</FormButton>\n            </>\n        );\n    \n        handleFormSubmit = (e) => {\n            e.preventDefault();\n            \n            if (!isMessageEmpty(textMessage)) {\n                var today = new Date();\n                var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();\n                var time = today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n                // var dateTime = date+' '+time;\n                onMessageSubmitted(textMessage, date , time);\n                if (selectedConversation !== undefined) {\n                    const conversationId = selectedConversation.id;\n                   \n                    onMessageUpdate(conversationId, textMessage, messageDetails[conversationId].hasMoreMessages, messageDetails[conversationId].lastMessageId, true, date , time)\n                    SendLiveMessage(textMessage);\n                    const email = process.env.REACT_APP_EMAIL;\n                    sendmsg(conversationId, textMessage, email);\n                    setdisableButton(true);\n                    setsenddisableButton(false)\n                    updateConversationDateMessage(conversationId, textMessage, date , time)\n                }\n                setTextMessage('');\n            }\n        };\n    }\n\n\n\n    const sendmsg = async(conversationId, messages, email) => {\n    \n        const NODE_API = process.env.REACT_APP_NODE_API\n        const URL=`${NODE_API}/api/tenantchatting`\n        // const token = Cookies.get('token');\n        // const AuthStr='Bearer '+token;\n        // alert(process.env.REACT_APP_EMAIL)\n       await fetch(URL, { \n            method: 'POST',\n            headers: {\n                    'Content-Type': 'application/json',\n                    // 'authorization': AuthStr \n                  },\n          body:JSON.stringify({'room_id':conversationId,'email':email,'message':messages})\n        })\n        .then(response => response.json())\n            .then(async (data) => {\n                // data.msg\n                console.log('Sucessfully Saved');\n                setTimeout(() => {\n                    setdisableButton(false);\n                    setsenddisableButton(true)\n                },1000)\n            })\n            .catch((error) => { console.error('Error:', error);\n            });\n    }\n\n\n    return (\n        <form id=\"chat-form\" onSubmit={handleFormSubmit}>\n            {formContents}\n        </form> \n    );\n}\n\nexport default ChatForm;","import React, { useEffect,useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { conversationChanged, newMessageAdded, conversationDeleted, conversationsRequested ,updateMessagesDetails, sendMessage, updateConversation, deletedAddedConversation, updateConversationDateMessage} from '../../store/actions';\nimport ConversationSearch from '../../components/conversation/conversation-search/ConversationSearch';\nimport NoConversations from '../../components/conversation/no-conversations/NoConversations';\nimport ConversationList from '../../components/conversation/conversation-list/ConversationList';\nimport NewConversation from '../../components/conversation/new-conversation/NewConversation';\nimport ChatTitle from '../../components/chat-title/ChatTitle';\nimport MessageList from '../message/MessageList';\nimport ChatForm from '../../components/chat-form/ChatForm';\n\nimport './ChatShell.scss';\n\nimport io from \"socket.io-client\";\nconst socket = io.connect('/');\nconst ChatShell = ({ conversations, selectedConversation,messageDetails, conversationChanged, onMessageSubmitted, onMessageUpdate, sendMessage, onDeleteConversation, loadConversations, updateConversation, deletedAddedConversation,updateConversationDateMessage }) =>\n{\n    const [conversationRender, setconversationRender] = useState(false)\n    useEffect(() => {\n        loadConversations();\n    }, [loadConversations]);\n\n\n    useEffect(() => {\n        socket.on(\"message\", (data) => {\n          onMessageUpdate(data.room, data.text, false, null, false)\n        });\n    \n        socket.on(\"add_active_room\", (data) => {\n            deletedAddedConversation(data.room)\n            updateConversation(data.room, data.username)\n            setconversationRender(true)\n\n          });    \n\n    }, [socket])\n     \n    const joinRoom = (conversationId) => {\n        socket.emit(\"joinRoom\", { username: process.env.REACT_APP_EMAIL, roomname: conversationId })\n    }\n    const disconnect = (conversationId) => {\n        socket.emit(\"disconect\");\n    }\n\n    const SendLiveMessage = (message) => {\n           socket.emit(\"chat1\", message);\n    }\n    \n    let conversationContent = (\n        <>\n            <NoConversations></NoConversations>\n        </>\n    );\n\n    if (conversations.length > 0) {\n        conversationContent = (\n            <>\n                <MessageList conversationId={selectedConversation.id} selectedConversation={selectedConversation}/>\n            </>\n        );\n    }\n\n    return (\n        <div id=\"chat-container\">\n            <ConversationSearch conversations={conversations} />\n            <ConversationList\n                onConversationItemSelected={conversationChanged}\n                joinRoom={joinRoom}\n                disconnect={disconnect}\n                conversations={conversations}\n                selectedConversation={selectedConversation}\n                conversationRender={conversationRender}\n                setconversationRender={setconversationRender}/>\n            <NewConversation />\n            <ChatTitle \n                selectedConversation={selectedConversation}\n                onDeleteConversation={onDeleteConversation} />\n            {conversationContent}\n            <ChatForm \n                selectedConversation={selectedConversation}\n                onMessageSubmitted={onMessageSubmitted}\n                onMessageUpdate={onMessageUpdate}\n                messageDetails={messageDetails}\n                sendMessage={sendMessage}\n                SendLiveMessage={SendLiveMessage}\n                updateConversationDateMessage={updateConversationDateMessage}\n            />\n        </div>\n    );\n}\n\nconst mapStateToProps = state => {\n    return {\n        conversations: state.conversationState.conversations,\n        selectedConversation: state.conversationState.selectedConversation,\n        messageDetails: state.messagesState.messageDetails\n    };\n}; \n  \nconst mapDispatchToProps = dispatch => ({\n    conversationChanged: conversationId => dispatch(conversationChanged(conversationId)),\n    onMessageSubmitted: (messageText, date , time) => { dispatch(newMessageAdded(messageText, date , time)); },\n    onMessageUpdate: (conversationId, messages, hasMoreMessages, lastMessageId, isMyMessage, date,time) => { dispatch(updateMessagesDetails(conversationId, messages, hasMoreMessages, lastMessageId, isMyMessage, date,time)); },\n    sendMessage: (conversationId, messages, email) => { dispatch(sendMessage(conversationId, messages, email)); },\n    updateConversation: (conversationId, email) => { dispatch(updateConversation(conversationId, email)) },\n    deletedAddedConversation: (conversationId) => { dispatch(deletedAddedConversation(conversationId)) },\n    onDeleteConversation: () => { dispatch(conversationDeleted()); },\n    loadConversations: () => { dispatch(conversationsRequested())},\n    updateConversationDateMessage: (conversationId, messages, date , time) => { dispatch(updateConversationDateMessage(conversationId, messages, date , time)) },\n});\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ChatShell);","import React from 'react';\n\nimport ChatShell from './containers/shell/ChatShell';\n\nconst App = () => {\n  return (\n    <ChatShell />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\nimport './index.scss';\nimport rootSaga from './store/sagas';\nimport rootReducer from './store/reducers';\nimport App from './App';\n\nconst sagaMiddleware = createSagaMiddleware();\nconst composeEnhancers =  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?   \n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({ // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\n    }) : compose;\nconst enhancer = composeEnhancers(applyMiddleware(sagaMiddleware));\nconst store = createStore(rootReducer, enhancer);\nsagaMiddleware.run(rootSaga);\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);\n","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}